{"ast":null,"code":"import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport Localbase from \"localbase\";\nlet db = new Localbase(\"db\");\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    appTitle: process.env.VUE_APP_TITLE,\n    search: null,\n    tasks: [// {\n      //   id: 1,\n      //   title: \"Wake up\",\n      //   done: false,\n      // },\n      // {\n      //   id: 2,\n      //   title: \"Get bananas\",\n      //   done: false,\n      // },\n      // {\n      //   id: 3,\n      //   title: \"Eat bananas\",\n      //   done: false,\n      // },\n    ],\n    snackbar: {\n      show: false,\n      text: \"\"\n    }\n  },\n  getters: {},\n  mutations: {\n    setSearch(state, value) {\n      state.search = value;\n    },\n\n    addTask(state, newTask) {\n      state.tasks.push(newTask);\n    },\n\n    doneTask(state, id) {\n      let task = state.tasks.filter(task => task.id === id)[0];\n      task.done = !task.done;\n    },\n\n    deleteTask(state, id) {\n      state.tasks = state.tasks.filter(task => task.id !== id);\n    },\n\n    updateTaskTitle(state, payload) {\n      let task = state.tasks.filter(task => task.id === payload.id)[0];\n      task.title = payload.title;\n    },\n\n    showSnackbar(state, text) {\n      let timeout = 0;\n\n      if (state.snackbar.show) {\n        state.snackbar.show = false;\n        timeout = 300;\n      }\n\n      setTimeout(() => {\n        state.snackbar.show = true;\n        state.snackbar.text = text;\n      }, timeout);\n    },\n\n    hideSnackbar(state) {\n      state.snackbar.show = false;\n    },\n\n    setTasks(state, tasks) {\n      state.tasks = tasks;\n    }\n\n  },\n  actions: {\n    addTask({\n      commit\n    }, newTaskTitle) {\n      let newTask = {\n        id: Date.now(),\n        title: newTaskTitle,\n        done: false\n      };\n      db.collection(\"tasks\").add(newTask).then(() => {\n        commit(\"addTask\", newTask);\n        commit(\"showSnackbar\", \"Task added!\");\n      });\n    },\n\n    doneTask({\n      state,\n      commit\n    }, id) {\n      let task = state.tasks.filter(task => task.id === id)[0];\n      db.collection(\"tasks\").doc({\n        id: id\n      }).update({\n        done: !task.done\n      }).then(() => {\n        commit(\"doneTask\", id);\n      });\n    },\n\n    deleteTask({\n      commit\n    }, id) {\n      db.collection(\"tasks\").doc({\n        id: id\n      }).delete().then(() => {\n        commit(\"deleteTask\", id);\n        commit(\"showSnackbar\", \"Task deleted!\");\n      });\n    },\n\n    updateTaskTitle({\n      commit\n    }, payload) {\n      db.collection(\"tasks\").doc({\n        id: payload.id\n      }).update({\n        title: payload.title\n      }).then(() => {\n        commit(\"updateTaskTitle\", payload);\n        commit(\"showSnackbar\", \"Task edited!\");\n      });\n    },\n\n    getTasks({\n      commit\n    }) {\n      db.collection(\"tasks\").get().then(tasks => {\n        commit(\"setTasks\", tasks);\n      });\n    }\n\n  },\n  getters: {\n    taskFiltered(state) {\n      if (!state.search) {\n        return state.tasks;\n      }\n\n      return state.tasks.filter(task => task.title.toLocaleLowerCase().includes(state.search.toLocaleLowerCase()));\n    }\n\n  }\n});","map":{"version":3,"names":["Vue","Vuex","Localbase","db","use","Store","state","appTitle","process","env","VUE_APP_TITLE","search","tasks","snackbar","show","text","getters","mutations","setSearch","value","addTask","newTask","push","doneTask","id","task","filter","done","deleteTask","updateTaskTitle","payload","title","showSnackbar","timeout","setTimeout","hideSnackbar","setTasks","actions","commit","newTaskTitle","Date","now","collection","add","then","doc","update","delete","getTasks","get","taskFiltered","toLocaleLowerCase","includes"],"sources":["C:/Users/miche/OneDrive/Skrivbord/portfolio-vue-todoapp/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport Localbase from \"localbase\";\n\nlet db = new Localbase(\"db\");\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    appTitle: process.env.VUE_APP_TITLE,\n    search: null,\n    tasks: [\n      // {\n      //   id: 1,\n      //   title: \"Wake up\",\n      //   done: false,\n      // },\n      // {\n      //   id: 2,\n      //   title: \"Get bananas\",\n      //   done: false,\n      // },\n      // {\n      //   id: 3,\n      //   title: \"Eat bananas\",\n      //   done: false,\n      // },\n    ],\n    snackbar: {\n      show: false,\n      text: \"\",\n    },\n  },\n  getters: {},\n  mutations: {\n    setSearch(state, value) {\n      state.search = value;\n    },\n    addTask(state, newTask) {\n      state.tasks.push(newTask);\n    },\n    doneTask(state, id) {\n      let task = state.tasks.filter((task) => task.id === id)[0];\n      task.done = !task.done;\n    },\n    deleteTask(state, id) {\n      state.tasks = state.tasks.filter((task) => task.id !== id);\n    },\n    updateTaskTitle(state, payload) {\n      let task = state.tasks.filter((task) => task.id === payload.id)[0];\n      task.title = payload.title;\n    },\n    showSnackbar(state, text) {\n      let timeout = 0;\n      if (state.snackbar.show) {\n        state.snackbar.show = false;\n        timeout = 300;\n      }\n      setTimeout(() => {\n        state.snackbar.show = true;\n        state.snackbar.text = text;\n      }, timeout);\n    },\n    hideSnackbar(state) {\n      state.snackbar.show = false;\n    },\n    setTasks(state, tasks) {\n      state.tasks = tasks;\n    },\n  },\n  actions: {\n    addTask({ commit }, newTaskTitle) {\n      let newTask = {\n        id: Date.now(),\n        title: newTaskTitle,\n        done: false,\n      };\n      db.collection(\"tasks\")\n        .add(newTask)\n        .then(() => {\n          commit(\"addTask\", newTask);\n          commit(\"showSnackbar\", \"Task added!\");\n        });\n    },\n    doneTask({ state, commit }, id) {\n      let task = state.tasks.filter((task) => task.id === id)[0];\n      db.collection(\"tasks\")\n        .doc({ id: id })\n        .update({\n          done: !task.done,\n        })\n        .then(() => {\n          commit(\"doneTask\", id);\n        });\n    },\n    deleteTask({ commit }, id) {\n      db.collection(\"tasks\")\n        .doc({ id: id })\n        .delete()\n        .then(() => {\n          commit(\"deleteTask\", id);\n          commit(\"showSnackbar\", \"Task deleted!\");\n        });\n    },\n    updateTaskTitle({ commit }, payload) {\n      db.collection(\"tasks\")\n        .doc({ id: payload.id })\n        .update({\n          title: payload.title,\n        })\n        .then(() => {\n          commit(\"updateTaskTitle\", payload);\n          commit(\"showSnackbar\", \"Task edited!\");\n        });\n    },\n    getTasks({ commit }) {\n      db.collection(\"tasks\")\n        .get()\n        .then((tasks) => {\n          commit(\"setTasks\", tasks);\n        });\n    },\n  },\n  getters: {\n    taskFiltered(state) {\n      if (!state.search) {\n        return state.tasks;\n      }\n      return state.tasks.filter((task) =>\n        task.title\n          .toLocaleLowerCase()\n          .includes(state.search.toLocaleLowerCase())\n      );\n    },\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}